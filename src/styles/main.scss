@import './variables';

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  background-color: $bg-primary;
  color: $text-primary;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overflow-x: hidden;
}

.container {
  width: 100%;
  max-width: 1100px;
  margin: 0 auto;
  padding: 0 24px;
}

html {
  scroll-behavior: smooth;
}

/* =========================================
   ГЛОБАЛЬНЫЕ АНИМАЦИИ ПОЯВЛЕНИЯ ПРИ СКРОЛЛЕ
   ========================================= */

/* Элемент до появления (полностью спрятан) */
.reveal-element {
  opacity: 0;
}

/* Спец. класс для карточек с каскадным появлением контента внутри */
.reveal-element.card-cascade {
  opacity: 1; /* Сама карточка видна сразу (ее фон), но... */
}

/* ...все прямые потомки карточки, блоки текста и картинки внутри - спрятаны */
.reveal-element.card-cascade > *,
.reveal-element.card-cascade .bento-card__content > *,
.reveal-element.card-cascade .project-banner-card__info > *,
.reveal-element.card-cascade img {
  opacity: 0;
}

/* --- Класс, добавляемый скриптом, когда элемент попадает в экран --- */
.is-revealed {
  /* Базовая анимация для заголовков (быстро снизу) */
  animation: revealText 0.8s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

/* Отменяем базовую анимацию для самой карточки-контейнера */
.is-revealed.card-cascade {
  animation: none;
}

/* --- КАСКАДНОЕ ПОЯВЛЕНИЕ (WAVE EFFECT) ДЛЯ ТЕКСТА --- */
/* Задаем разные задержки (delay) для детей внутри, чтобы они появлялись по очереди */

.is-revealed.card-cascade > *:nth-child(1),
.is-revealed.card-cascade .bento-card__content > *:nth-child(1),
.is-revealed.card-cascade .project-banner-card__info > *:nth-child(1) {
  animation: revealText 0.8s cubic-bezier(0.22, 1, 0.36, 1) forwards;
  animation-delay: 0.1s;
}

.is-revealed.card-cascade > *:nth-child(2),
.is-revealed.card-cascade .bento-card__content > *:nth-child(2),
.is-revealed.card-cascade .project-banner-card__info > *:nth-child(2) {
  animation: revealText 0.8s cubic-bezier(0.22, 1, 0.36, 1) forwards;
  animation-delay: 0.25s;
}

.is-revealed.card-cascade > *:nth-child(3),
.is-revealed.card-cascade .bento-card__content > *:nth-child(3),
.is-revealed.card-cascade .project-banner-card__info > *:nth-child(3) {
  animation: revealText 0.8s cubic-bezier(0.22, 1, 0.36, 1) forwards;
  animation-delay: 0.4s;
}

.is-revealed.card-cascade > *:nth-child(4),
.is-revealed.card-cascade .bento-card__content > *:nth-child(4),
.is-revealed.card-cascade .project-banner-card__info > *:nth-child(4) {
  animation: revealText 0.8s cubic-bezier(0.22, 1, 0.36, 1) forwards;
  animation-delay: 0.55s;
}

/* --- СПЕЦИАЛЬНАЯ МЕДЛЕННАЯ АНИМАЦИЯ ДЛЯ КАРТИНОК (PNG) --- */
.is-revealed.card-cascade img {
  /* Анимация в 5 раз медленнее текста (4 секунды) */
  animation: revealImage 4s cubic-bezier(0.22, 1, 0.36, 1) forwards !important;
  animation-delay: 0.6s !important; /* Появляется самой последней */
  
  /* Указываем, что точка, из которой "вырастает" картинка, находится ВНИЗУ ПО ЦЕНТРУ */
  transform-origin: bottom center; 
}


/* =========================================
   KEYFRAMES (САМИ ЭФФЕКТЫ)
   ========================================= */

/* Анимация для текста: быстрое появление с легким сдвигом вверх */
@keyframes revealText {
  0% {
    opacity: 0;
    transform: translateY(30px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ИСПРАВЛЕННАЯ АНИМАЦИЯ ДЛЯ КАРТИНОК: ПЛАВНЫЙ РОСТ ИЗ ТОЧКИ ВНИЗУ */
@keyframes revealImage {
  0% {
    opacity: 0;
    /* Убрали translateY(60px), добавили scale(0). */
    /* Теперь картинка стартует в своей финальной точке по Y, но сжатой в ноль. */
    transform: scale(0); 
  }
  100% {
    opacity: 1;
    /* Пропорционально вырастает до 100% своего размера. */
    transform: scale(1);
  }
}